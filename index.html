<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>

<body>
    <script>
        console.log(`'ok'`);
        const arr = [1, [5], 3, [2, [10, ['a', 'b']]]];
        const arr1 = [1,[] ];

        class DepthCalculator {

            calculateDepth(arr) {
                let d = 0;
                if (arr.length === 0) return 1;

                gofor(arr);

                function gofor(arr) {
                    console.log(arr)

                    d++;

                    let _arr = [];

                    arr.forEach(element => {
                        if (Array.isArray(element) ) {
                            if(element.length === 0) element = 1;
                            _arr.push(element);
                        }
                    });
                    console.log('--end--');
                    console.log(_arr);
                    console.log(_arr.length);
                    if (_arr.length > 0) {
                        _arr = [].concat(..._arr);
                        return gofor(_arr);
                    } else if (_arr.length == 0) return d;

                }

                return d;

            }
        }


        // calculateDepth(arr) {
        //     let d = 0

        //     function ff(arr) {
        //         console.log(arr);
        //         d++;
        //         console.log(d);
        //         arr.forEach(element => {
        //             if (Array.isArray(element)) ff(element);
        //             else {

        //                 return false;
        //             };
        //         })
        //     }

        //     return ff(arr) || d;
        // }


        //     console.log('deg= '+(++deg));

        //     arr.forEach(element => {
        //     if (Array.isArray(element)) calculateDepth(element);
        //    else console.log(element);

        // });

        // return deg++;



        const depthCalc = new DepthCalculator();
        const {
            calculateDepth
        } = depthCalc;


        //let calc = new DepthCalculator;
        console.log(calculateDepth(arr1));
    </script>
</body>

</html>